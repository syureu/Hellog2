{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\multicampus\\\\Desktop\\\\2\\uD559\\uAE30\\\\2\\uD559\\uAE30\\uC800\\uC7A5\\uC18C\\\\s03p13d203(sub3)\\\\material-dashboard-react-master\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\multicampus\\\\Desktop\\\\2\\uD559\\uAE30\\\\2\\uD559\\uAE30\\uC800\\uC7A5\\uC18C\\\\s03p13d203(sub3)\\\\material-dashboard-react-master\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\multicampus\\\\Desktop\\\\2\\uD559\\uAE30\\\\2\\uD559\\uAE30\\uC800\\uC7A5\\uC18C\\\\s03p13d203(sub3)\\\\material-dashboard-react-master\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\multicampus\\\\Desktop\\\\2\\uD559\\uAE30\\\\2\\uD559\\uAE30\\uC800\\uC7A5\\uC18C\\\\s03p13d203(sub3)\\\\material-dashboard-react-master\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"C:\\\\Users\\\\multicampus\\\\Desktop\\\\2\\uD559\\uAE30\\\\2\\uD559\\uAE30\\uC800\\uC7A5\\uC18C\\\\s03p13d203(sub3)\\\\material-dashboard-react-master\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:\\\\Users\\\\multicampus\\\\Desktop\\\\2\\uD559\\uAE30\\\\2\\uD559\\uAE30\\uC800\\uC7A5\\uC18C\\\\s03p13d203(sub3)\\\\material-dashboard-react-master\\\\material-dashboard-react-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\multicampus\\\\Desktop\\\\2\\uD559\\uAE30\\\\2\\uD559\\uAE30\\uC800\\uC7A5\\uC18C\\\\s03p13d203(sub3)\\\\material-dashboard-react-master\\\\material-dashboard-react-master\\\\src\\\\views\\\\Dietboard\\\\right\\\\right_write.js\";\nimport React, { Component } from 'react';\nimport '../main.css';\nimport axios from 'axios';\n\nvar right_write = /*#__PURE__*/function (_Component) {\n  _inherits(right_write, _Component);\n\n  var _super = _createSuper(right_write);\n\n  function right_write(props) {\n    var _this;\n\n    _classCallCheck(this, right_write);\n\n    _this = _super.call(this, props);\n    _this._submitBoard = /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var title, contents, category, data, res, _data, _res, url;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              title = document.getElementsByName('title')[0].value.trim();\n              contents = this.props.contents;\n              category = this.props.select_category;\n\n              if (!(title === '')) {\n                _context.next = 7;\n                break;\n              }\n\n              return _context.abrupt(\"return\", alert('제목을 입력해주세요.'));\n\n            case 7:\n              if (!(contents === '')) {\n                _context.next = 11;\n                break;\n              }\n\n              return _context.abrupt(\"return\", alert('내용을 입력해주세요.'));\n\n            case 11:\n              if (!(category === '')) {\n                _context.next = 13;\n                break;\n              }\n\n              return _context.abrupt(\"return\", alert('카테고리를 선택해주세요.'));\n\n            case 13:\n              if (this.props.match.params.data) {\n                _context.next = 23;\n                break;\n              }\n\n              data = {\n                title: title,\n                contents: contents,\n                category: category\n              };\n              _context.next = 17;\n              return axios('/add/board', {\n                method: 'POST',\n                data: data,\n                headers: new Headers()\n              });\n\n            case 17:\n              res = _context.sent;\n\n              if (!res.data) {\n                _context.next = 21;\n                break;\n              }\n\n              alert('글 등록이 완료되었습니다.');\n              return _context.abrupt(\"return\", window.location.replace('/realFinal'));\n\n            case 21:\n              _context.next = 32;\n              break;\n\n            case 23:\n              _data = {\n                title: title,\n                contents: contents,\n                category: category,\n                board_id: this.props.match.params.data\n              };\n              _context.next = 26;\n              return axios('/update/board', {\n                method: 'POST',\n                data: _data,\n                headers: new Headers()\n              });\n\n            case 26:\n              _res = _context.sent;\n\n              if (!_res.data) {\n                _context.next = 32;\n                break;\n              }\n\n              alert('글 수정이 완료되었습니다.');\n              url = '/realFinal/view/' + this.props.match.params.data;\n              sessionStorage.setItem('category', category);\n              return _context.abrupt(\"return\", window.location.href = url);\n\n            case 32:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    _this.state = {\n      title: '',\n      contents: ''\n    };\n    return _this;\n  }\n\n  _createClass(right_write, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.match.params.data && !this.props.select_category) {\n        this.props._selectCategoryData(this.props.match.params.data);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          category = _this$props.category,\n          select_category = _this$props.select_category,\n          _selectCategoryData = _this$props._selectCategoryData;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"select_category_div\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }\n      }, \" \\uCE74\\uD14C\\uACE0\\uB9AC \\uC120\\uD0DD \"), /*#__PURE__*/React.createElement(\"select\", {\n        name: \"select_category\",\n        onChange: function onChange() {\n          return _selectCategoryData();\n        },\n        value: select_category,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        value: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }\n      }, \" - \\uCE74\\uD14C\\uACE0\\uB9AC \\uC120\\uD0DD - \"), category ? category.map(function (el) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          value: el.id,\n          key: el.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 21\n          }\n        }, el.name);\n      }) : null)), /*#__PURE__*/React.createElement(\"div\", {\n        id: \"post_submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        onClick: function onClick() {\n          return _this2._submitBoard();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }\n      }, !this.props.match.params.data ? '포스트 등록' : '포스트 수정')));\n    }\n  }]);\n\n  return right_write;\n}(Component);\n\nexport default right_write;","map":{"version":3,"sources":["C:/Users/multicampus/Desktop/2학기/2학기저장소/s03p13d203(sub3)/material-dashboard-react-master/material-dashboard-react-master/src/views/Dietboard/right/right_write.js"],"names":["React","Component","axios","right_write","props","_submitBoard","title","document","getElementsByName","value","trim","contents","category","select_category","alert","match","params","data","method","headers","Headers","res","window","location","replace","board_id","url","sessionStorage","setItem","href","state","_selectCategoryData","map","el","id","name"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport '../main.css';\n\nimport axios from 'axios';\n\nclass right_write extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: '',\n      contents: '',\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.match.params.data && !this.props.select_category) {\n      this.props._selectCategoryData(this.props.match.params.data);\n    }\n  }\n\n  _submitBoard = async function() {\n    const title = document.getElementsByName('title')[0].value.trim();\n    const contents = this.props.contents;\n    const category = this.props.select_category;\n\n    if (title === '') {\n      return alert('제목을 입력해주세요.');\n    } else if (contents === '') {\n      return alert('내용을 입력해주세요.');\n    } else if (category === '') {\n      return alert('카테고리를 선택해주세요.');\n    }\n\n    if (!this.props.match.params.data) {\n      const data = { title: title, contents: contents, category: category };\n      const res = await axios('/add/board', {\n        method: 'POST',\n        data: data,\n        headers: new Headers(),\n      });\n\n      if (res.data) {\n        alert('글 등록이 완료되었습니다.');\n        return window.location.replace('/realFinal');\n      }\n    } else {\n      const data = {\n        title: title,\n        contents: contents,\n        category: category,\n        board_id: this.props.match.params.data,\n      };\n\n      const res = await axios('/update/board', {\n        method: 'POST',\n        data: data,\n        headers: new Headers(),\n      });\n\n      if (res.data) {\n        alert('글 수정이 완료되었습니다.');\n\n        const url = '/realFinal/view/' + this.props.match.params.data;\n\n        sessionStorage.setItem('category', category);\n        return (window.location.href = url);\n      }\n    }\n  };\n\n  render() {\n    const { category, select_category, _selectCategoryData } = this.props;\n\n    return (\n      <div>\n        <div className=\"select_category_div\">\n          <h5> 카테고리 선택 </h5>\n          <select\n            name=\"select_category\"\n            onChange={() => _selectCategoryData()}\n            value={select_category}\n          >\n            <option value=\"\"> - 카테고리 선택 - </option>\n            {category\n              ? category.map(el => {\n                  return (\n                    <option value={el.id} key={el.id}>\n                      {el.name}\n                    </option>\n                  );\n                })\n              : null}\n          </select>\n        </div>\n\n        <div id=\"post_submit\">\n          <button onClick={() => this._submitBoard()}>\n            {!this.props.match.params.data ? '포스트 등록' : '포스트 수정'}\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default right_write;\n"]},"metadata":{},"sourceType":"module"}